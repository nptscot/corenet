% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/anime_join.R
\name{anime_join}
\alias{anime_join}
\title{Aggregate a Source Attribute onto Target Features Using 'anime'}
\usage{
anime_join(
  source_data,
  target_data,
  attribute,
  new_name,
  agg_fun = sum,
  weights,
  angle_tolerance = 35,
  distance_tolerance = 15
)
}
\arguments{
\item{source_data}{An \code{sf} object representing the source data.}

\item{target_data}{An \code{sf} object representing the target data.}

\item{attribute}{A character string, the name of the source attribute to aggregate.}

\item{new_name}{A character string for the output column name in the returned data frame.}

\item{agg_fun}{A function used to aggregate the matched values (e.g., \code{sum}, \code{mean}, \code{max}).
Defaults to \code{sum}.}

\item{weights}{A character vector of column names in the source data to be used as weights.
(For example, \code{"target_weighted"}).}

\item{angle_tolerance}{A numeric value for angular tolerance used by \code{anime}. Defaults to 35.}

\item{distance_tolerance}{A numeric value for distance tolerance used by \code{anime}. Defaults to 15.}
}
\value{
A \code{data.frame} (or \code{tibble}) containing:
\itemize{
\item \code{id}: The original \code{id} from \code{target_data}.
\item \code{new_name}: The aggregated attribute (named according to \code{new_name}).
}
}
\description{
This function runs \code{\link[anime:anime]{anime::anime()}} to match source features to target features
based on angle and distance tolerances. The matched source attribute(s) are then
aggregated (sum, max, mean, etc.) and joined back to the target data.
}
\examples{
\dontrun{
  result = anime_join(
    source_data      = my_source_sf,
    target_data      = my_target_sf,
    attribute        = "population",
    new_name         = "pop_sum",
    agg_fun          = sum,
    weights          = "target_weighted",
    angle_tolerance  = 35,
    distance_tolerance = 15
  )
}

}
